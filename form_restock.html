<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Restock - LAROSAPOT</title>

    <link rel="stylesheet" href="style/kasir.css?v=3" />
    <style>
      .btn-preview {
        background-color: #2196f3;
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 10px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
        width: 100%;
        margin-top: 20px;
      }
      .btn-preview:hover {
        background-color: #1976d2;
        transform: translateY(-2px);
      }
    </style>
  </head>
  <body>
    <!-- Sidebar injected by script/layout.js -->

    <div class="main-content">
      <!-- Header injected by script/layout.js -->

      <div class="content-area">
        <div class="form-section">
          <h2 class="section-title">Restock (Pembelian Barang)</h2>

          <div class="form-row">
            <div class="form-group">
              <label>No Invoice Pembelian</label>
              <input
                type="text"
                id="noInvoice"
                placeholder="LR/SJ/xx/ddmmyy"
                readonly
              />
            </div>
            <div class="form-group">
              <label>Tanggal Pembelian</label>
              <input
                type="date"
                id="tanggalPembelian"
                onchange="updatePurchaseInvoiceNumber()"
              />
            </div>
          </div>

          <h3 class="subsection-title">Informasi Vendor</h3>

          <div class="form-row">
            <div class="form-group">
              <label>No HP Vendor (Pilih)</label>
              <div class="autocomplete-container">
                <input
                  type="text"
                  id="noHpVendor"
                  placeholder="Ketik no HP vendor..."
                  autocomplete="off"
                />
                <div id="vendorSuggestionList" class="suggestion-list"></div>
              </div>
            </div>
            <div class="form-group">
              <label>Nama Vendor</label>
              <input
                type="text"
                id="namaVendor"
                placeholder="Otomatis"
                readonly
              />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Kategori Vendor</label>
              <input
                type="text"
                id="kategoriVendor"
                placeholder="Otomatis"
                readonly
              />
            </div>
            <div class="form-group">
              <label>Alamat Vendor</label>
              <input
                type="text"
                id="alamatVendor"
                placeholder="Otomatis"
                readonly
              />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Bank</label>
              <input
                type="text"
                id="bankVendor"
                placeholder="Otomatis"
                readonly
              />
            </div>
            <div class="form-group">
              <label>No Rekening</label>
              <input
                type="text"
                id="rekeningVendor"
                placeholder="Otomatis"
                readonly
              />
            </div>
          </div>

          <h3 class="subsection-title">Input Barang</h3>

          <div class="keranjang-layout">
            <div class="form-group">
              <label>No SKU (Pilih)</label>
              <div class="autocomplete-container">
                <input
                  type="text"
                  id="noSku"
                  placeholder="Ketik SKU..."
                  autocomplete="off"
                />
                <div id="skuSuggestionList" class="suggestion-list"></div>
              </div>
            </div>
            <div class="form-group">
              <label>Jumlah</label>
              <input
                type="number"
                id="jumlah"
                placeholder="0"
                oninput="hitungTotalHPP()"
              />
            </div>
            <div class="form-group">
              <label>HPP (Satuan)</label>
              <input type="number" id="hpp" placeholder="Otomatis" />
            </div>
          </div>

          <div class="keranjang-layout">
            <div class="form-group">
              <label>Nama Produk</label>
              <input
                type="text"
                id="namaProduk"
                placeholder="Otomatis"
                readonly
              />
            </div>
            <div class="form-group">
              <label>Satuan</label>
              <input type="text" id="satuan" placeholder="Otomatis" readonly />
            </div>
            <div class="form-group">
              <label>Total HPP</label>
              <input type="number" id="totalHpp" placeholder="Rp. 0" readonly />
            </div>
          </div>

          <button class="btn-simpan" onclick="tambahKeKeranjang()">
            Tambahkan ke Keranjang
          </button>

          <div class="cart-table">
            <table>
              <thead>
                <tr>
                  <th>No.</th>
                  <th>SKU</th>
                  <th>Produk</th>
                  <th>Jumlah</th>
                  <th>Satuan</th>
                  <th>HPP</th>
                  <th>Total</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody id="keranjangBody"></tbody>
            </table>
          </div>

          <div class="bottom-section" style="margin-top: 20px">
            <div class="left-calc">
              <div class="calc-item">
                <label>Subtotal</label>
                <input
                  type="number"
                  id="subtotal"
                  placeholder="Rp. 0"
                  readonly
                />
              </div>
              <div class="calc-item">
                <label>Ongkir</label>
                <input
                  type="number"
                  id="ongkir"
                  placeholder="0"
                  oninput="hitungTotalTagihan()"
                />
              </div>
              <div class="calc-item">
                <label>Potongan</label>
                <input
                  type="number"
                  id="potongan"
                  placeholder="0"
                  oninput="hitungTotalTagihan()"
                />
              </div>
            </div>
            <div class="right-calc">
              <div class="calc-item">
                <label>Diskon</label>
                <input
                  type="number"
                  id="diskon"
                  placeholder="0"
                  oninput="hitungTotalTagihan()"
                />
              </div>
              <div class="calc-item">
                <label>Total Tagihan</label>
                <input
                  type="number"
                  id="totalTagihan"
                  placeholder="Rp. 0"
                  readonly
                  style="font-weight: bold; color: #2e7d32"
                />
              </div>
            </div>
          </div>

          <div class="bottom-section">
            <div class="calc-item">
              <label>DP (Uang Muka)</label>
              <input
                type="number"
                id="dp"
                placeholder="0"
                oninput="hitungSisaTagihan()"
              />
            </div>
            <div class="calc-item">
              <label>Sisa Tagihan</label>
              <input
                type="number"
                id="sisaTagihan"
                placeholder="Rp. 0"
                readonly
              />
            </div>
          </div>

          <button class="btn-preview" onclick="previewInvoice()">
            Review & Lihat Invoice Pembelian
          </button>
        </div>
      </div>
    </div>

    <script src="script/config.js"></script>
    <script src="script/auth.js"></script>
    <script src="script/layout.js"></script>
    <script src="script/sheets-api.js"></script>
    <script src="script/idb-cache.js"></script>
    <script src="script/utils.js"></script>
    <script src="script/data-service.js"></script>
    <script src="script/form_restock.js"></script>
  </body>
</html>
